{
  "format_version": "1.19.0",
  "animation_controllers": {
    "controller.animation.phantore_phase_4.root_controller": {
      "states": {
        "default": {
          "transitions": [
            { "ranged_attack": "q.facing_target_to_range_attack" },
            {
              "melee_mode": "q.property('thump989:phantore_attack_state')=='melee'"
            },
            {
              "cast": "q.property('thump989:phantore_attack_state')=='summon'"
            },
            {
              "xp_blast": "q.property('thump989:phantore_attack_state')=='xp_timer'"
            },
            {
              "skullshot": "q.property('thump989:phantore_attack_state')=='skullshot' || q.property('thump989:phantore_attack_state')=='skullshot_2'"
            },
            { "death": "q.health==1" }
          ]
        },
        "ranged_attack": {
          "animations": ["charge"],
          "particle_effects": [
            {
              "effect": "fire_charge",
              "locator": "fireball"
            }
          ],
          "transitions": [
            {
              "default": "q.all_animations_finished || !q.facing_target_to_range_attack"
            },
            { "death": "q.health==1" }
          ],
          "blend_transition": 0.1
        },
        "melee_mode": {
          "animations": ["melee_controller"],
          "transitions": [
            {
              "default": "q.property('thump989:phantore_attack_state')=='none'"
            },
            { "death": "q.health==1" }
          ]
        },
        "cast": {
          "animations": ["cast_controller"],
          "transitions": [
            {
              "default": "q.property('thump989:phantore_attack_state')=='none'"
            },
            { "death": "q.health==1" }
          ]
        },
        "xp_blast": {
          "animations": ["xp_blast"],
          "transitions": [
            { "recover": "q.all_animations_finished" },
            { "death": "q.health==1" }
          ]
        },
        "recover": {
          "animations": ["xp_blast_recover"],
          "transitions": [
            { "default": "q.all_animations_finished" },
            { "death": "q.health==1" }
          ]
        },
        "skullshot": {
          "animations": ["skull_shoot"],
          "transitions": [
            { "default": "q.all_animations_finished" },
            { "death": "q.health==1" }
          ]
        },
        "death": {
          "animations": ["deafeat"],
          "transitions": [{ "defeat_loop": "q.all_animations_finished" }]
        },
        "defeat_loop": {
          "animations": ["deafeat_loop"]
        }
      }
    },
    "controller.animation.phantore_phase_4.melee_controller": {
      "states": {
        "default": {
          "transitions": [
            {
              "melee_attack_1": "v.attack_time>0 && variable.bite_random == 1"
            },
            {
              "melee_attack_2": "v.attack_time>0 && variable.bite_random == 2"
            },
            {
              "melee_attack_3": "v.attack_time>0 && variable.bite_random == 3"
            },
            { "roar": "q.is_roaring" }
          ]
        },
        "melee_attack_1": {
          "animations": ["attack_1"],
          "transitions": [{ "default": "q.all_animations_finished" }]
        },
        "melee_attack_2": {
          "animations": ["attack_2"],
          "transitions": [{ "default": "q.all_animations_finished" }]
        },
        "melee_attack_3": {
          "animations": ["attack_3"],
          "transitions": [{ "default": "q.all_animations_finished" }]
        },
        "roar": {
          "animations": ["roar"],
          "transitions": [{ "default": "!q.is_roaring" }]
        }
      }
    }
  }
}
